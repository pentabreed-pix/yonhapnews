<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<meta name="format-detection" content="telephone=no, date=no, address=no, email=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>H포인트 크리스마스 이벤트</title>
	<link rel="stylesheet" type="text/css" href="/assets/css/h-point-ch.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/h-point-ch-font.css">
	<script src="/assets/js/jquery.js"></script>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			introAni();
			scrollAnchorBtnActive();
			clickAnchorSmooth();
			progressBar();
		});

		//인트로 애니
		function introAni() {
			const curtainImg = document.querySelector('.curtain');

			setTimeout(() => {
				curtainImg.classList.add('active1')
				setTimeout(() => {
					curtainImg.classList.add('active2')
				}, 500);
			}, 900);
		}

		//앵커 클릭
		function clickAnchorSmooth() {
			document.querySelectorAll('.section.anchor-area .anchor-item[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', function (e) {
					e.preventDefault();

					const target = document.querySelector(this.getAttribute('href'));
					const targetPosition = target.getBoundingClientRect().top + window.scrollY; // 타겟 섹션의 절대 위치
					const vwUnit = window.innerWidth / 100; // 1vw에 해당하는 픽셀 값
					const offset = this.getAttribute('href') === '#calendar-section' ? -18 * vwUnit : 0; // 오프셋 조정 (예: -5vw)
					const finalPosition = targetPosition + offset; // 최종 스크롤 위치 계산

					window.scrollTo({
						top: finalPosition,
						behavior: 'smooth'
					});
				});
			});
		}

		//앵커 스크롤
		function scrollAnchorBtnActive() {
			const sections = document.querySelectorAll(".section");
			const anchorArea = document.querySelector(".anchor-area");
			const offsetVw = 20; // 활성화 위치를 더 위로 설정하는 보정 값 (단위: vw)

			function setActiveSection() {
				let activeSectionId = null;
				const offsetPx = (window.innerWidth * offsetVw) / 100; // vw 단위를 px로 변환
				const scrollTop = window.scrollY + offsetPx; // 스크롤 위치에 변환된 offset 추가

				sections.forEach(function(section) {
					const sectionTop = section.offsetTop; // 섹션의 페이지 상단 위치
					const sectionHeight = section.offsetHeight;

					// 스크롤이 섹션의 시작점 - offset에 닿으면 활성화
					if (scrollTop >= sectionTop && scrollTop < sectionTop + sectionHeight) {
						activeSectionId = section.id;
					}
				});

				// anchor-area 클래스 업데이트
				if (activeSectionId) {
					anchorArea.className = `section anchor-area ${activeSectionId}`;
				}
			}

			// 스크롤 이벤트에 setActiveSection 연결
			window.addEventListener("scroll", setActiveSection);
		}

		//progressBar 채우기
		function progressBar() {
			const progressBar = document.querySelector(".bar-gauge");
			const items = document.querySelectorAll(".calendar-body .day-list .day-item");
			const totalItems = items.length;
			let activeItems = 0;

			// 각 li를 순회하면서 on 클래스가 있는지 확인
			items.forEach((item) => {
				if (item.classList.contains("on")) {
				activeItems++; // on 클래스가 있으면 activeItems 증가
				}
			});

			// 계산하여 width 설정
			const progressWidth = (activeItems / totalItems) * 100;

			// width를 인라인 스타일로 삽입
			progressBar.setAttribute("style", `width: ${progressWidth}%;`);
		}
	</script>
</head>

<body class="h-point-christmas" id="body">
	<div id="wrap" class="wrap">
		<div class="section intro" id="intro-section">
			<em class="section-head blind">HARRY'S CHRISTMAS 출석체크 이벤트</em>
			<div class="section-body">
				<div class="intro-figure shawl">
					<img src="/assets/images/h-point-christmas/intro-shawl.png" alt="">
				</div>
				<div class="intro-figure moon">
					<img src="/assets/images/h-point-christmas/intro-moon.png" alt="">
				</div>
				<div class="intro-figure curtain">
					<div class="curtain-item left">
						<img src="/assets/images/h-point-christmas/intro-curtain-left.png" alt="">
					</div>
					<div class="curtain-item right">
						<img src="/assets/images/h-point-christmas/intro-curtain-right.png" alt="">
					</div>
				</div>
			</div>
		</div>
		<div class="section anchor-area intro-section">
			<div class="anchor-list">
				<a href="#intro-section" class="anchor-item"></a>
				<a href="#contents-section" class="anchor-item"></a>
				<a href="#calendar-section" class="anchor-item"></a>
			</div>
		</div>
		<div class="section contents" id="contents-section">
			<div class="section-head">
				<div class="section-subject">
					<img src="/assets/images/h-point-christmas/contents-head-text.svg" alt="내 손안에서 펼쳐지는 크리스마스 이야기 H.Point와 함께 크리스마스의 다양한 콘텐츠를 즐겨보세요.">
				</div>
			</div>
			<div class="section-body">
				<ul class="data-list">
					<!-- 앱 링크 이동 배너 -->
					<li class="data-item">
						<a href="https://www.h-point.co.kr/cma/invite.nhd?scheme=mgzCtgr?ctgrId=010" class="data-link">
							<img src="/assets/images/h-point-christmas/contents-item-a.png" alt="# 1. 사운드 갤러리 크리스마스 ×더현대서울 현대백화점의 크리스마스 이야기">
						</a>
					</li>
					<li class="data-item">
						<a href="https://www.h-point.co.kr/cma/invite.nhd?scheme=mgzCtgr?ctgrId=006018" class="data-link">
							<img src="/assets/images/h-point-christmas/contents-item-b.png" alt="# 2. Edit. H 연말과 크리스마스의 분위기를 물씬 느낄 수 있는 공간 추천">
						</a>
					</li>
					<li class="data-item">
						<a href="https://www.h-point.co.kr/cma/invite.nhd?scheme=evntPtc?eventId=298707" class="data-link">
							<img src="/assets/images/h-point-christmas/contents-item-c.png" alt="# 3. 오디오북 크리스마스 이야기 어디까지 들어봤니? 소리로 읽는 행복한 크리스마스">
						</a>
					</li>
					<!-- //앱 링크 이동 배너 -->
				</ul>
			</div>
		</div>
		<div class="section calendar" id="calendar-section">
			<div class="section-head">
				<div class="section-subject">
					<img src="/assets/images/h-point-christmas/calendar-head-text.png" alt="H.Point 크리스마스 어드벤트 캘린더. 매일 출석할수록 쌓여가는 크리스마스 혜택! H.Point에서 매일 다른 서프라이즈 선물을 준비했어요.포인트와 쿠폰 그리고 1천만P 당첨의 기회까지 출석체크하고 오늘의 선물 박스를 열어보세요. #1만_플러스포인트 #100P #20%할인권 #메가박스팝콘_500원 #1천만P_주인공을_찾습니다.">
				</div>
            </div>
			<div class="section-body">
				<div class="calendar-wrap">
					<div class="calendar-head">
                        <div class="tip">
                            <img src="/assets/images/h-point-christmas/calendar-tip.png" alt="TIP. 출석을 많이 할 수록 당첨 확률 UP! UP! 매일 출석하고 행운의 주인공이 되어보세요! 매일 8시부터 참여가 가능해요">
                        </div>
						<!-- 고객 응모 현황 -->
						<em class="subject">
							<span class="name accent">고객님</span>의<br> 
							1천만P 당첨 <span class="accent">응모권 현황</span>
						</em>
						<!-- //고객 응모 현황 -->
						<!-- 프로그래스바 -->
						<div class="progress">
							<div class="bar-wrap">
								<!-- 채워지는 게이지 : progressBar 스크립트로 width값 삽입 -->
								<div class="bar-gauge"></div>
								<!-- //채워지는 게이지 -->
							</div>
							<div class="date-wrap">
								<span class="date start">
									<span class="num">0</span><span class="day">장</span>
								</span>
								<span class="date end">
									<span class="num">24</span><span class="day">장</span>
								</span>
							</div>
						</div>
						<!-- //프로그래스바 -->
					</div>
					<!-- 출석체크 캘린더 : on 클래스가 붙으면 day-item의 이미지, css가 바뀝니다. -->
					<div class="calendar-body">
						<ul class="day-list">
							<li class="day-item item1 on"></li>
							<li class="day-item item2 on"></li>
							<li class="day-item item3 on"></li>
							<li class="day-item item4"></li>
							<li class="day-item item5 on"></li>
							<li class="day-item item6"></li>
							<li class="day-item item7"></li>
							<li class="day-item item8"></li>
							<li class="day-item item9 on"></li>
							<li class="day-item item10"></li>
							<li class="day-item item11"></li>
							<li class="day-item item12"></li>
							<li class="day-item item13"></li>
							<li class="day-item item14"></li>
							<li class="day-item item15"></li>
							<li class="day-item item16 on"></li>
							<li class="day-item item17"></li>
							<li class="day-item item18"></li>
							<li class="day-item item19"></li>
							<li class="day-item item20 on"></li>
							<li class="day-item item21"></li>
							<li class="day-item item22"></li>
							<li class="day-item item23"></li>
							<li class="day-item item24 on"></li>
						</ul>
					</div>
					<!-- //출석체크 캘린더 -->
				</div>
			</div>
            <!-- 출석 체크 버튼 : 팝업창 뜸 -->
			<div class="section-util">
				<a href="javascript:void(0)" class="btn">
                    <span class="btn-text">출석 체크하기</span>
				</a>
			</div>
            <!-- //출석 체크 버튼 -->
		</div>
		<div class="section notice">
			<div class="section-inner">
				<ul class="notice-list">
					<li class="list-item">본 이벤트는 진행 기간동안만 참여 가능합니다.<br> (진행일자: 12월 1일 ~ 24일)</li>
					<li class="list-item">출석체크는 당일 1일 1회 참여 가능하며, 지난일자의 출석 체크는 불가합니다.</li>
					<li class="list-item">출석일이 많을 수록 1천만P 당첨 확률이 올라갑니다.<br> (출석일 1일 = 응모권 1개)</li>
					<li class="list-item">1천만P 당첨은 12월 31일 개별 통보 및 안내 예정입니다.</li>
					<li class="list-item">행사 내용 및 일정은 내부 사정으로 일부 변경될 수 있습니다.</li>
					<li class="list-item">혜택 별 자세한 내용은 각 혜택 내 독소조항 참고 바랍니다.</li>
				</ul>
			</div>
		</div>

		<!-- 팝업창 -->
		<div class="modal-display" id="modalDisplay">
			<div class="modal design1">
				<div class="modal-inner">
					<!-- 출석체크 성공 선물 상자 팝업 -->
					<div class="modal-area gift-box" id="checkModal">
						<div class="modal-wrap">
							<div class="modal-figure">
								<a href="" class="gift-btn">
									<img src="/assets/images/h-point-christmas/modal-gift-box.png" alt="">
								</a>
							</div>
							<div class="modal-inform">
								<div class="modal-head">
									<span class="modal-subject">오늘 출석체크 성공!</span>
								</div>
								<div class="modal-body">
									<p class="para">선물을 가져오고 있어요!<br> 잠시만 기다려주세요!</p>
								</div>
							</div>
						</div>
					</div>
					<!-- 출석체크 성공 선물 상자 팝업-->
					<!-- 최신 버전 필요 팝업 -->
					<div class="modal-area case1" id="pointModal">
						<div class="modal-wrap">
							<div class="modal-figure">
								<img src="/assets/images/h-point-christmas/point-1000.png" alt="">
							</div>
							<div class="modal-inform">
								<div class="modal-head">
									<span class="modal-subject">축하합니다!</span>
								</div>
								<div class="modal-body">
									<ul class="bullet-list">
										<li class="bullet-item">지급된 포인트는 캐시백, 선물하기, 전환 등은 불가합니다.</li>
										<li class="bullet-item">하단 등록하기 버튼을 통해 H.Point App에서 등록하셔야 정상사용이 가능합니다.</li>
									</ul>
								</div>
							</div>
							<div class="modal-fuc">
								<a href="../h-point-ch/index.html" class="fuc-btn">
									<span class="btn-text">혜택받기</span>
								</a>
							</div>
						</div>
					</div>
					<!-- //최신 버전 필요 팝업 -->
					<!-- 마케팅 수신 미동의 팝업 -->
					<div class="modal-area case1" id="pointModal">
						<div class="modal-wrap">
							<div class="modal-figure">
								<img src="/assets/images/h-point-christmas/point-1000.png" alt="">
							</div>
							<div class="modal-inform">
								<div class="modal-head">
									<span class="modal-subject">축하합니다!</span>
								</div>
								<div class="modal-body">
									<ul class="bullet-list">
										<li class="bullet-item">지급된 포인트는 캐시백, 선물하기, 전환 등은 불가합니다.</li>
										<li class="bullet-item">하단 등록하기 버튼을 통해 H.Point App에서 등록하셔야 정상사용이 가능합니다.</li>
									</ul>
								</div>
							</div>
							<div class="modal-fuc">
								<a href="../h-point-ch/index.html" class="fuc-btn">
									<span class="btn-text">혜택받기</span>
								</a>
							</div>
						</div>
					</div>
					<!-- //마케팅 수신 미동의 팝업 -->
					<!----------------------------------- 출석체크 성공 선물 상자가 나오고  ----------------------------------->
					<!-- 꽝! 팝업 -->
					<div class="modal-area case1" id="pointModal">
						<div class="modal-wrap">
							<div class="modal-figure">
								<img src="/assets/images/h-point-christmas/point-1000.png" alt="">
							</div>
							<div class="modal-inform">
								<div class="modal-head">
									<span class="modal-subject">축하합니다!</span>
								</div>
								<div class="modal-body">
									<ul class="bullet-list">
										<li class="bullet-item">지급된 포인트는 캐시백, 선물하기, 전환 등은 불가합니다.</li>
										<li class="bullet-item">하단 등록하기 버튼을 통해 H.Point App에서 등록하셔야 정상사용이 가능합니다.</li>
									</ul>
								</div>
							</div>
							<div class="modal-fuc">
								<a href="../h-point-ch/index.html" class="fuc-btn">
									<span class="btn-text">혜택받기</span>
								</a>
							</div>
						</div>
					</div>
					<!-- //꽝! 팝업 -->
					<!-- 중복 참여시 팝업 -->
					<div class="modal-area case1" id="pointModal">
						<div class="modal-wrap">
							<div class="modal-figure">
								<img src="/assets/images/h-point-christmas/point-1000.png" alt="">
							</div>
							<div class="modal-inform">
								<div class="modal-head">
									<span class="modal-subject">축하합니다!</span>
								</div>
								<div class="modal-body">
									<ul class="bullet-list">
										<li class="bullet-item">지급된 포인트는 캐시백, 선물하기, 전환 등은 불가합니다.</li>
										<li class="bullet-item">하단 등록하기 버튼을 통해 H.Point App에서 등록하셔야 정상사용이 가능합니다.</li>
									</ul>
								</div>
							</div>
							<div class="modal-fuc">
								<a href="../h-point-ch/index.html" class="fuc-btn">
									<span class="btn-text">혜택받기</span>
								</a>
							</div>
						</div>
					</div>
					<!-- //중복 참여시 팝업 -->
					<!-- 당첨 팝업 : 1일차 -->
					<div class="modal-area case1" id="pointModal">
						<div class="modal-wrap">
							<div class="modal-figure">
								<img src="/assets/images/h-point-christmas/point-1000.png" alt="">
							</div>
							<div class="modal-inform">
								<div class="modal-head">
									<span class="modal-subject">축하합니다!</span>
								</div>
								<div class="modal-body">
									<ul class="bullet-list">
										<li class="bullet-item">지급된 포인트는 캐시백, 선물하기, 전환 등은 불가합니다.</li>
										<li class="bullet-item">하단 등록하기 버튼을 통해 H.Point App에서 등록하셔야 정상사용이 가능합니다.</li>
									</ul>
								</div>
							</div>
							<div class="modal-fuc">
								<a href="../h-point-ch/index.html" class="fuc-btn">
									<span class="btn-text">혜택받기</span>
								</a>
							</div>
						</div>
					</div>
					<!-- //당첨 팝업 -->
				<!-- 오늘 출석체크 성공 -->
				</div>
			</div>
		</div>
		<!-- //팝업창 -->
	</div>
	<script>
		$(document).ready(function() {
			const attendanceBtn = document.querySelector(".section-util .btn"); // 출석 체크 버튼
			const modal = document.getElementById("modalDisplay"); // 팝업 전체
			const body = document.body; // body 요소
			const checkSuccessModal = document.getElementById("checkModal"); // gift-box 영역
			const pointModal = document.getElementById("pointModal"); // 당첨 팝업 영역
			const giftButton = document.querySelector(".modal-area.gift-box .gift-btn"); // 선물 상자 버튼

			// 팝업 열기 함수
			function openModal() {
				modal.classList.add("show"); // 'show' 클래스 추가
				body.classList.add("modal-show"); // 'modal-show' 클래스 추가 (배경 스크롤 막기)
				checkSuccessModal.classList.add("on"); // gift-box 활성화
			}

			// 선물 상자 클릭 시 동작
			function showPointModal() {
				checkSuccessModal.classList.remove("on"); // gift-box 숨김
				pointModal.classList.add("on"); // pointModal 보이기
			}

			// 출석 체크 버튼 클릭 이벤트
			attendanceBtn.addEventListener("click", function () {
				openModal();
			});

			// 선물 상자 버튼 클릭 이벤트
			giftButton.addEventListener("click", function (event) {
				event.preventDefault(); // a 태그 기본 동작 방지
				showPointModal();
			});
		});
	</script>
</body>
</html>